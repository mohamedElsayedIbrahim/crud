var products,pName=document.getElementById("productName"),price=document.getElementById("productPrice"),desc=document.getElementById("productDesc"),btn=document.getElementById("submit"),selectedProduct=-1;function insertProduct(){if("save"==btn.innerText.toLocaleLowerCase()){var t={name:pName.value,price:price.value,desc:desc.value};products.push(t),localStorage.setItem("products",JSON.stringify(products)),displayProducts(products),clear()}else products[selectedProduct].name=pName.value,products[selectedProduct].price=price.value,products[selectedProduct].desc=desc.value,localStorage.setItem("products",JSON.stringify(products)),displayProducts(products),clear(),btn.innerText="save"}function displayProducts(t){var e="";for(let c=0;c<t.length;c++)e+=`<tr>\n           <td>${c}</td>\n           <td>${t[c].name}</td>\n           <td>${t[c].price}</td>\n           <td>${t[c].desc}</td>\n           <td><button type="button" onclick="editProduct(${c});" class="btn btn-warning">Update</button></td>\n           <td><button type="button" onclick="deleteProduct(${c});" class="btn btn-danger">Delete</button></td>\n       </tr>`;document.getElementById("result").innerHTML=e}function clear(){pName.value="",price.value="",desc.value=""}function deleteProduct(t){products.splice(t,1),localStorage.setItem("products",JSON.stringify(products)),displayProducts(products)}function productSerach(t){var e=[];for(let c=0;c<products.length;c++)products[c].name.toLowerCase().includes(t.toLowerCase())&&e.push(products[c]);displayProducts(e)}function editProduct(t){pName.value=products[t].name,price.value=products[t].price,desc.value=products[t].desc,btn.innerText="update",selectedProduct=t}displayProducts(products=null==localStorage.getItem("products")?[]:JSON.parse(localStorage.getItem("products")));